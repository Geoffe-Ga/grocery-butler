{% extends "base.html" %}

{% block title %}Add Recipe - Grocery Butler{% endblock %}

{% block content %}
<h1>Add Recipe</h1>

<section class="add-item-section">
    <form action="/recipes/add" method="post" class="recipe-form">
        <div class="form-row">
            <div class="form-group">
                <label for="name">Recipe Name</label>
                <input type="text" id="name" name="name" required
                       placeholder="e.g. Spaghetti Bolognese">
            </div>
            <div class="form-group">
                <label for="servings">Servings</label>
                <input type="number" id="servings" name="servings" value="4" min="1" required>
            </div>
        </div>

        <h2>Ingredients</h2>
        <div id="ingredient-rows">
            <div class="form-row ingredient-row" data-index="0">
                <div class="form-group">
                    <label for="ing_name_0">Name</label>
                    <input type="text" id="ing_name_0" name="ing_name_0"
                           placeholder="e.g. pasta">
                </div>
                <div class="form-group">
                    <label for="ing_qty_0">Qty</label>
                    <input type="number" id="ing_qty_0" name="ing_qty_0"
                           step="0.01" value="1">
                </div>
                <div class="form-group">
                    <label for="ing_unit_0">Unit</label>
                    <input type="text" id="ing_unit_0" name="ing_unit_0"
                           placeholder="e.g. lb">
                </div>
                <div class="form-group">
                    <label for="ing_category_0">Category</label>
                    <select id="ing_category_0" name="ing_category_0">
                        {% for cat in categories %}
                        <option value="{{ cat }}">{{ cat }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group form-group-check">
                    <label for="ing_pantry_0">
                        <input type="checkbox" id="ing_pantry_0" name="ing_pantry_0">
                        Pantry
                    </label>
                </div>
            </div>
        </div>

        <div class="page-actions">
            <button type="button" id="add-ingredient-row" class="btn btn-secondary">
                Add Ingredient
            </button>
        </div>

        <div class="page-actions">
            <button type="submit" class="btn btn-primary">Save Recipe</button>
            <a href="/recipes" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</section>
{% endblock %}
